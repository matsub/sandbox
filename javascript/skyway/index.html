<script src='https://cdn.skyway.io/skyway.min.js'></script>
<script>
    /*  Compatibility shim */
    navigator.getUserMedia = (
        navigator.getUserMedia
        || navigator.webkitGetUserMedia
        || navigator.mozGetUserMedia
    )

    /* constraints of the stream */
    let constraints = {
        audio: true,
        video: false,
    }

    var peer = new Peer({key: 'API_KEY'});
    peer.on('open', function(id) {
        navigator.mediaDevices.getUserMedia(constraints)
            .then( stream => {
                room = peer.joinRoom('AwesomeRoom', {
                    mode: 'mesh',
                    stream: stream,
                })
                room.on('peerJoin', () => { console.log("foo") })
                room.on('peerJoin', () => { console.log("bar") })
            })
    });
</script>
